# DAY-3:运算符和表达式

## 1.运算符

### 算术运算符概念



| 一元运算符（只需要 1 个操作数） |
| ------------------------------- |
| + 一元正号运算符                |
| - 一元负号运算符                |



#### **二元运算符**

| 加法类       | 乘法类       |
| ------------ | ------------ |
| + 加法运算符 | * 乘法运算符 |
| - 减法运算符 | / 除法运算符 |
|              | % 求余运算符 |

**注意：**

int 型与 float 型混合在一起时，运算结果是 float 型。

比如，9 + 2.5f 的值为 11.5；6.7f / 2 的值为 3.35。

运算符 `/`：当两个操作数都是整型时，结果会**向下取整**。如，1 / 2 的值是 0，而不是 0.5 。

运算符 `%`要求两个操作数都是**整型**。

把 0 作为 `/` 或 `%` 的右操作数会导致未定义行为。

当运算符 `/` 和 `%` 用于负操作数时，其结果难以确定。

根据 C89 的标准，如果两个操作数中有一个是负数，那么除法结果**既可以向上取整也可以向下取整**（例如，-9 / 7 的结果既可以是 -1 也可以是 -2）；i % j 的符号与具体实现有关（例如，-9 % 7 可以是 -2 也可以是 5）。

在 C99 中，除法的结果总是**向零取整**（因此，-9 / 7 的结果是 -1）；i % j 的符号与 i 相同（因此，-9 % 7 的结果是 -2；我特意测试了以下，9 % -7 的值是 2，-9 % -7 的值还是 2）。

#### 三元运算符

三元运算符，顾名思义，需要三个操作数参与其中。它的基本语法结构如下：

`expression1 ? expression2 : expression3;`
这行代码的含义可以解读为：首先计算表达式` expression1` 的值，若结果为`真（非零）`，则整个表达式的值等于 `expression2` 的值；反之，若 expression1 的结果为`假（零）`，则整个表达式的值等于 `expression3` 的值。
相比于传统的if-else语句，三元运算符的优势在于其简洁性。它将原本需要多行代码才能完成的逻辑判断和赋值操作浓缩成了一行，使得代码更加紧凑易读。

例如，我们需要根据变量a的值来决定变量b的取值，使用if-else语句实现如下：

而使用三元运算符，我们可以将代码简化为：

```c
int a = 10;
int b;

if (a > 5) {

  b = 100;
} else {
  b = 0;
}
```

三元运算符完成

```c
int a = 10;
int b = (a > 5) ? 100 : 0;
```

可以看到，三元运算符的使用使得代码更加简洁明了，同时也提高了代码的可读性。

使用三元运算符的注意事项
尽管三元运算符为代码带来了简洁与优雅，但在使用时也需要注意以下几点：

避免嵌套过多：过多的嵌套会降低代码的可读性，建议优先考虑使用if-else语句。
注意运算符优先级：三元运算符的优先级较低，需要特别注意与其他运算符的结合使用。
保持代码清晰易懂：简洁不等于晦涩，使用三元运算符的目的是为了提高代码的可读性和效率，而不是为了炫技。

#### C语言运算符优先级

| 优先级 | 运算符           | 名称或含义                                                   | 使用形式                 | 结合方向 | 说明       |
| ------ | ---------------- | ------------------------------------------------------------ | ------------------------ | -------- | ---------- |
| 1      | []               | 数组下标                                                     | 数组名[常量表达式]       | 左到右   | --         |
| ()     | 圆括号           | (表达式）/函数名(形参表)                                     | --                       |          |            |
| .      | 成员选择（对象） | 对象.成员名                                                  | --                       |          |            |
| ->     | 成员选择（指针） | 对象指针->成员名                                             | --                       |          |            |
| 2      | -                | 负号运算符                                                   | -表达式                  | 右到左   | 单目运算符 |
| ~      | 按位取反运算符   | ~表达式                                                      |                          |          |            |
| ++     | 自增运算符       | ++变量名/变量名++                                            |                          |          |            |
| --     | 自减运算符       | --变量名/变量名--                                            |                          |          |            |
| *      | 取值运算符       | *指针变量                                                    |                          |          |            |
| &      | 取地址运算符     | &变量名                                                      |                          |          |            |
| !      | 逻辑非运算符     | !表达式                                                      |                          |          |            |
| (类型) | 强制类型转换     | (数据类型)表达式                                             | --                       |          |            |
| sizeof | 长度运算符       | sizeof(表达式)                                               | --                       |          |            |
| 3      | /                | 除                                                           | 表达式/表达式            | 左到右   | 双目运算符 |
| *      | 乘               | 表达式*表达式                                                |                          |          |            |
| %      | 余数（取模）     | 整型表达式%整型表达式                                        |                          |          |            |
| 4      | +                | 加                                                           | 表达式+表达式            | 左到右   | 双目运算符 |
| -      | 减               | 表达式-表达式                                                |                          |          |            |
| 5      | <<               | 左移                                                         | 变量<<表达式             | 左到右   | 双目运算符 |
| >>     | 右移             | 变量>>表达式                                                 |                          |          |            |
| 6      | >                | 大于                                                         | 表达式>表达式            | 左到右   | 双目运算符 |
| >=     | 大于等于         | 表达式>=表达式                                               |                          |          |            |
| <      | 小于             | 表达式<表达式                                                |                          |          |            |
| <=     | 小于等于         | 表达式<=表达式                                               |                          |          |            |
| 7      | ==               | 等于                                                         | 表达式==表达式           | 左到右   | 双目运算符 |
| ！=    | 不等于           | 表达式!= 表达式                                              |                          |          |            |
| 8      | &                | 按位与                                                       | 表达式&表达式            | 左到右   | 双目运算符 |
| 9      | ^                | 按位异或                                                     | 表达式^表达式            | 左到右   | 双目运算符 |
| 10     | \|               | 按位或                                                       | 表达式\|表达式           | 左到右   | 双目运算符 |
| 11     | &&               | 逻辑与                                                       | 表达式&&表达式           | 左到右   | 双目运算符 |
| 12     | \|\|             | 逻辑或                                                       | 表达式\|\|表达式         | 左到右   | 双目运算符 |
| 13     | ?:               | [条件运算符](https://so.csdn.net/so/search?q=条件运算符&spm=1001.2101.3001.7020) | 表达式1?表达式2: 表达式3 | 右到左   | 三目运算符 |
| 14     | =                | 赋值运算符                                                   | 变量=表达式              | 右到左   | --         |
| /=     | 除后赋值         | 变量/=表达式                                                 | --                       |          |            |
| *=     | 乘后赋值         | 变量*=表达式                                                 | --                       |          |            |
| %=     | 取模后赋值       | 变量%=表达式                                                 | --                       |          |            |
| +=     | 加后赋值         | 变量+=表达式                                                 | --                       |          |            |
| -=     | 减后赋值         | 变量-=表达式                                                 | --                       |          |            |
| <<=    | 左移后赋值       | 变量<<=表达式                                                | --                       |          |            |
| >>=    | 右移后赋值       | 变量>>=表达式                                                | --                       |          |            |
| &=     | 按位与后赋值     | 变量&=表达式                                                 | --                       |          |            |
| ^=     | 按位异或后赋值   | 变量^=表达式                                                 | --                       |          |            |
| \|=    | 按位或后赋值     | 变量\|=表达式                                                | --                       |          |            |
| 15     | ，               | [逗号运算符](https://so.csdn.net/so/search?q=逗号运算符&spm=1001.2101.3001.7020) | 表达式,表达式,…          | 左到右   | --         |

说明：

同一优先级的运算符，运算次序由结合方向所决定。

简单记就是：！ > 算术运算符 > [关系运算符](https://so.csdn.net/so/search?q=关系运算符&spm=1001.2101.3001.7020) > && > || > 赋值运算符

